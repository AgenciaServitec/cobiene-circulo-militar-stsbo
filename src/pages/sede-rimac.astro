---
import Layout from "../layouts/Layout.astro";
import AboutUs from "../components/AboutUs.astro";

import Layout from "../layouts/Layout.astro";
import { getPageInfo } from "../lib/wp";
import SedesGallery from "../components/SedesGallery.astro";
import InitialComponent from "../components/sedes/InitialComponent.astro";

const { carousel_gallery, content, title, featured_image } = await getPageInfo("sede-rimac");

const videoSedeRimac = content.match(/<figure class="wp-block-video">.*?<\/figure>/s)?.[0] || "";

const textSedeRimac = content.replace(videoSedeRimac, "");
const images = Object.values(carousel_gallery);
---

<Layout>
  <InitialComponent background={featured_image} />
  <AboutUs id="nosotros" title={title} textContent={textSedeRimac} videoContent={videoSedeRimac} />
  <SedesGallery title="Areas Recreacionales" images={images} />
</Layout>
